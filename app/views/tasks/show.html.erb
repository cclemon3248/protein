<p>
  <strong>Store:</strong>
  <%= @task.store %>
</p>

<p>
  <strong>Name:</strong>
  <%= @task.name %>
</p>

<p>
  <strong>Protein:</strong>
  <%= @task.protein %>
</p>

<p>
  <strong>Calorie:</strong>
  <%= @task.calorie %>
</p>

<p>
  <strong>Image:</strong>
  <%= image_tag @task.image.url if @task.image.url %>
</p>

<% unless @task.user_id == current_user.id %>
  <% if @like.present? %>
    <%= link_to 'いいね解除', like_path(id: @like.id), method: :delete, class: 'btn btn-danger' %>
    +<%= @task.likes.count %>
  <% else %>
    <%= link_to 'いいね', likes_path(task_id: @task.id), method: :post, class: 'btn btn-primary' %>
    +<%= @task.likes.count %>
  <% end %>
<% end %>

<% unless @task.user_id == current_user.id %>
  <% if @favorite.present? %>
    <%= link_to 'お気に入り解除', favorite_path(id: @favorite.id), method: :delete, class: 'btn btn-danger' %>
  <% else %>
    <%= link_to 'お気に入り', favorites_path(task_id: @task.id), method: :post, class: 'btn btn-primary' %>
  <% end %>
<% end %>


<p>Comments</p>
<table>
<% @comments.each do |comment| %>
  <tr>
    <td><%= comment.content %></td>
    <td><%= link_to "削除", task_comment_path(@task, comment), method: :delete %></td>
  </tr>
<% end %>
</table>

<%= form_with(model: [@task, @comment]) do |f| %>
  <%= f.text_area :content %><br>
  <%= f.submit '送信', class: "btn-sm btn-primary" %>
<% end %>



<%= link_to 'Edit', edit_task_path(@task) %> |
<%= link_to 'Back', tasks_path %>